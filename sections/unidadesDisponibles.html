<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unidades Disponibles - Larrosa Camiones</title>
    <meta name="description" content="Explora nuestra amplia selección de camiones usados. Filtra por marca, año, kilómetros y más. Más de 40 años de experiencia en el sector.">
    <meta name="keywords" content="camiones usados, venta camiones, Larrosa, Córdoba, Scania, Volvo, Mercedes, tractoras, rígidos">
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="../styles/main.css">
    <link rel="stylesheet" href="../styles/unidadesDisponibles.css">
    
    <!-- External Libraries -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="../assets/favicon.ico">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <!-- Navegación fija -->
        <nav class="navbar">
            <div class="nav-container">
                <!-- Logo -->
                <div class="nav-logo">
                    <a href="../index.html">
                        <img src="../assets/Azul.pdf" alt="Larrosa Camiones" class="logo">
                    </a>
                </div>
                
                <!-- Menú principal -->
                <ul class="nav-menu">
                    <li class="nav-item">
                        <a href="../index.html" class="nav-link">Inicio</a>
                    </li>
                    <li class="nav-item">
                        <a href="unidadesDisponibles.html" class="nav-link active">Unidades Disponibles</a>
                    </li>
                    <li class="nav-item">
                        <a href="LarrosaCamiones.html" class="nav-link">Larrosa Camiones</a>
                    </li>
                    <li class="nav-item">
                        <a href="contacto.html" class="nav-link">Contacto</a>
                    </li>
                </ul>
                
                <!-- Botón derecha - ACTUALIZADO -->
                <div class="nav-button">
                    <!-- Botón MercadoLibre -->
                    <a href="https://listado.mercadolibre.com.ar/larrosa-camiones" 
                       class="btn-mercadolibre" 
                       target="_blank" 
                       title="Ver nuestros vehículos en MercadoLibre">
                        <i class="fas fa-shopping-cart"></i>
                        <span>MercadoLibre</span>
                    </a>
                    
                    <!-- Botón Randon (opcional - mantener o quitar) -->
                    <a href="LarrosaCamiones.html#randon" class="btn-special">
                        <img src="../assets/Logo negro sin fondo.png" alt="Randon" class="btn-icon">
                    </a>
                </div>
                
                <!-- Hamburger para móvil -->
                <div class="hamburger">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </div>
            </div>
        </nav>
    </header>

    <!-- Main Content -->
    <main id="main-content">
        <!-- Page Header with Categories -->
        <section class="page-header">
            <div class="container-full">
                <div class="breadcrumb">
                    <a href="../index.html">Inicio</a>
                    <span class="separator">/</span>
                    <span class="current">Unidades Disponibles</span>
                </div>
                
                
                <!-- Vehicle Categories Bar -->
                <div class="categories-container">
                    <div class="category-item active" data-category="all">
                        <div class="category-image">
                            <img src="../assets/imagenes/IMG_8670(1).JPEG" alt="Todos los vehículos" class="category-photo">
                        </div>
                        <div class="category-info">
                            <span class="category-name">Todos</span>
                            <span class="category-count">(583)</span>
                        </div>
                    </div>
                    
                    <div class="category-item" data-category="camion-tractor">
                        <div class="category-image">
                            <img src="../assets/Camion Tractor.png" alt="Camión Tractor" class="category-photo">
                        </div>
                        <div class="category-info">
                            <span class="category-name">Camión Tractor</span>
                            <span class="category-count">(234)</span>
                        </div>
                    </div>
                    
                    <div class="category-item" data-category="camion-chasis">
                        <div class="category-image">
                            <img src="../assets/Camion Chasis.png" alt="Camión Chasis" class="category-photo">
                        </div>
                        <div class="category-info">
                            <span class="category-name">Camión Chasis</span>
                            <span class="category-count">(156)</span>
                        </div>
                    </div>
                    
                    <div class="category-item" data-category="remolques">
                        <div class="category-image">
                            <img src="../assets/Remolques.png" alt="Remolques" class="category-photo">
                        </div>
                        <div class="category-info">
                            <span class="category-name">Remolques</span>
                            <span class="category-count">(89)</span>
                        </div>
                    </div>
                    
                    <div class="category-item" data-category="utilitarios">
                        <div class="category-image">
                            <img src="../assets/Utilitarios.png" alt="Utilitarios" class="category-photo">
                        </div>
                        <div class="category-info">
                            <span class="category-name">Utilitarios</span>
                            <span class="category-count">(67)</span>
                        </div>
                    </div>
                    
                    <div class="category-item" data-category="varios">
                        <div class="category-image">
                            <img src="../assets/Varios.png" alt="Varios" class="category-photo">
                        </div>
                        <div class="category-info">
                            <span class="category-name">Varios</span>
                            <span class="category-count">(37)</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Main Content with Sidebar -->
        <section class="content-section">
            <div class="container-full">
                <div class="content-layout">
                    <!-- Sidebar Filters -->
                    <aside class="sidebar-filters">
                        <!-- Search Box -->
                        <div class="filter-search">
                            <div class="search-input-container">
                                <input type="text" placeholder="Buscar camiones..." id="filter-search" class="filter-search-input">
                                <button class="clear-search-btn">
                                    <i class="fas fa-times"></i>
                                </button>
                            </div>
                            <div class="filter-actions">
                                <button class="clear-all-btn">
                                    <span>Limpiar</span>
                                    <i class="fas fa-redo"></i>
                                </button>
                                <button class="save-search-btn">
                                    <span>Guardar</span>
                                    <i class="fas fa-bookmark"></i>
                                </button>
                            </div>
                        </div>

                        <!-- Tipo Filter -->
                        <div class="filter-group">
                            <h3 class="filter-title">Tipo</h3>
                            <div class="filter-options">
                                <label class="filter-checkbox">
                                    <input type="checkbox" name="tipo" value="camion-tractor">
                                    <span class="checkmark"></span>
                                    <img src="../assets/Camion Tractor.png" alt="Camión Tractor" class="filter-icon">
                                    <span class="option-text">Camión Tractor</span>
                                </label>
                                <label class="filter-checkbox">
                                    <input type="checkbox" name="tipo" value="camion-chasis">
                                    <span class="checkmark"></span>
                                    <img src="../assets/Camion Chasis.png" alt="Camión Chasis" class="filter-icon">
                                    <span class="option-text">Camión Chasis</span>
                                </label>
                                <label class="filter-checkbox">
                                    <input type="checkbox" name="tipo" value="remolques">
                                    <span class="checkmark"></span>
                                    <img src="../assets/Remolques.png" alt="Remolques" class="filter-icon">
                                    <span class="option-text">Remolques</span>
                                </label>
                                <label class="filter-checkbox">
                                    <input type="checkbox" name="tipo" value="utilitarios">
                                    <span class="checkmark"></span>
                                    <img src="../assets/Utilitarios.png" alt="Utilitarios" class="filter-icon">
                                    <span class="option-text">Utilitarios</span>
                                </label>
                                <label class="filter-checkbox">
                                    <input type="checkbox" name="tipo" value="varios">
                                    <span class="checkmark"></span>
                                    <img src="../assets/Varios.png" alt="Varios" class="filter-icon">
                                    <span class="option-text">Varios</span>
                                </label>
                            </div>
                        </div>

                        <!-- Tracción Filter -->
                        <div class="filter-group">
                            <h3 class="filter-title">Tracción</h3>
                            <div class="filter-options">
                                <label class="filter-checkbox">
                                    <input type="checkbox" name="traccion" value="4x2">
                                    <span class="checkmark"></span>
                                    <span class="option-text">4x2</span>
                                </label>
                                <label class="filter-checkbox">
                                    <input type="checkbox" name="traccion" value="6x2">
                                    <span class="checkmark"></span>
                                    <span class="option-text">6x2</span>
                                </label>
                            </div>
                        </div>

                        <!-- Marca Filter -->
                        <div class="filter-group">
                            <h3 class="filter-title">Marca</h3>
                            <div class="filter-options">
                                <label class="filter-checkbox">
                                    <input type="checkbox" name="marca" value="scania">
                                    <span class="checkmark"></span>
                                    <span class="option-text">Scania</span>
                                </label>
                                <label class="filter-checkbox">
                                    <input type="checkbox" name="marca" value="volvo">
                                    <span class="checkmark"></span>
                                    <span class="option-text">Volvo</span>
                                </label>
                                <label class="filter-checkbox">
                                    <input type="checkbox" name="marca" value="mercedes">
                                    <span class="checkmark"></span>
                                    <span class="option-text">Mercedes</span>
                                </label>
                                <label class="filter-checkbox">
                                    <input type="checkbox" name="marca" value="iveco">
                                    <span class="checkmark"></span>
                                    <span class="option-text">Iveco</span>
                                </label>
                                <label class="filter-checkbox">
                                    <input type="checkbox" name="marca" value="volkswagen">
                                    <span class="checkmark"></span>
                                    <span class="option-text">Volkswagen</span>
                                </label>
                                <label class="filter-checkbox">
                                    <input type="checkbox" name="marca" value="renault">
                                    <span class="checkmark"></span>
                                    <span class="option-text">Renault</span>
                                </label>
                                <label class="filter-checkbox">
                                    <input type="checkbox" name="marca" value="ford">
                                    <span class="checkmark"></span>
                                    <span class="option-text">Ford</span>
                                </label>
                            </div>
                        </div>

                        <!-- Año Range -->
                        <div class="filter-group">
                            <h3 class="filter-title">Año</h3>
                            <div class="range-filter">
                                <div class="range-inputs">
                                    <input type="number" placeholder="Desde" class="range-input" id="year-min" min="2000" max="2025">
                                    <span class="range-separator">-</span>
                                    <input type="number" placeholder="Hasta" class="range-input" id="year-max" min="2000" max="2025">
                                </div>
                                <div class="range-slider">
                                    <input type="range" class="slider" id="year-slider" min="2000" max="2025" value="2015">
                                </div>
                            </div>
                        </div>

                        <!-- Kilómetros Range -->
                        <div class="filter-group">
                            <h3 class="filter-title">Kilómetros</h3>
                            <div class="range-filter">
                                <div class="range-inputs">
                                    <input type="number" placeholder="Desde" class="range-input" id="km-min" min="0" max="1000000">
                                    <span class="range-separator">-</span>
                                    <input type="number" placeholder="Hasta" class="range-input" id="km-max" min="0" max="1000000">
                                </div>
                                <div class="range-slider">
                                    <input type="range" class="slider" id="km-slider" min="0" max="1000000" value="500000">
                                </div>
                                <div class="range-unit">km</div>
                            </div>
                        </div>

                        <!-- Transmisión Filter -->
                        <div class="filter-group">
                            <h3 class="filter-title">Transmisión</h3>
                            <div class="filter-options">
                                <label class="filter-checkbox">
                                    <input type="checkbox" name="transmision" value="manual">
                                    <span class="checkmark"></span>
                                    <span class="option-text">Manual</span>
                                </label>
                                <label class="filter-checkbox">
                                    <input type="checkbox" name="transmision" value="automatica">
                                    <span class="checkmark"></span>
                                    <span class="option-text">Automática</span>
                                </label>
                            </div>
                        </div>
                    </aside>

                    <!-- Main Content Area -->
                    <div class="main-content">
                        <!-- Results Header -->
                        <div class="results-header">
                            <div class="results-info">
                                <div class="results-tabs">
                                    <button class="tab-btn active">
                                        <span>información</span>
                                    </button>
                                    <button class="tab-btn">
                                        <span><strong><span id="total-vehicles">583</span> vehículos encontrados</strong></span>
                                    </button>
                                </div>
                            </div>
                            <div class="results-controls">
                                <div class="sort-dropdown">
                                    <button class="sort-btn">
                                        <span>Clasificar Por</span>
                                        <i class="fas fa-chevron-down"></i>
                                    </button>
                                    <div class="sort-menu">
                                        <button class="sort-option active" data-sort="relevance">Relevancia</button>
                                        <button class="sort-option" data-sort="price-asc">Precio: menor a mayor</button>
                                        <button class="sort-option" data-sort="price-desc">Precio: mayor a menor</button>
                                        <button class="sort-option" data-sort="year-desc">Año: más nuevo</button>
                                        <button class="sort-option" data-sort="year-asc">Año: más viejo</button>
                                        <button class="sort-option" data-sort="km-asc">Menor kilometraje</button>
                                        <button class="sort-option" data-sort="km-desc">Mayor kilometraje</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Loading State -->
                        <div class="loading-state" id="loading-state" style="display: none;">
                            <div class="loading-spinner"></div>
                            <p>Cargando vehículos...</p>
                        </div>

                        <!-- Vehicles Grid -->
                        <div class="vehicles-grid" id="vehicles-grid">
                            <!-- Vehicles will be loaded here dynamically -->
                        </div>

                        <!-- Load More Button -->
                        <div class="load-more-container">
                            <button class="load-more-btn" id="load-more-btn">
                                <span>Cargar más vehículos</span>
                                <i class="fas fa-chevron-down"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <img src="../assets/Blanco fondo negro.pdf" alt="Larrosa Camiones" class="footer-logo">
                    <p>40 años comercializando camiones. Tu socio confiable en el transporte de cargas.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
                
                <div class="footer-section">
                    <h4>Navegación</h4>
                    <ul>
                        <li><a href="../index.html">Inicio</a></li>
                        <li><a href="unidadesDisponibles.html">Unidades Disponibles</a></li>
                        <li><a href="LarrosaCamiones.html">Larrosa Camiones</a></li>
                        <li><a href="contacto.html">Contacto</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>La Empresa</h4>
                    <ul>
                        <li><a href="LarrosaCamiones.html#historia">Nuestra Historia</a></li>
                        <li><a href="LarrosaCamiones.html#valores">Valores</a></li>
                        <li><a href="LarrosaCamiones.html#randon">Concesión Randon</a></li>
                        <li><a href="LarrosaCamiones.html#instalaciones">Instalaciones</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h4>Contacto</h4>
                    <div class="contact-info">
                        <p><i class="fas fa-map-marker-alt"></i> Villa María, Córdoba</p>
                        <p><i class="fas fa-phone"></i> +54 353 XXX-XXXX</p>
                        <p><i class="fas fa-envelope"></i> info@larrosacamiones.com</p>
                    </div>
                </div>
            </div>
            
            <!-- Nueva sección admin -->
            <div class="footer-admin">
                <a href="../admin/login.html" 
                   class="btn-admin-footer" 
                   title="Panel de Administración">
                    <i class="fas fa-user-shield"></i>
                    <span>Administración</span>
                </a>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 Larrosa Camiones. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript para funcionalidad adicional -->
    <script>
        // Actualizar scripts/nav-session.js para que funcione con el botón en footer
        document.addEventListener('DOMContentLoaded', function() {
            updateAdminButtonState();
        });

        function updateAdminButtonState() {
            const adminButton = document.querySelector('.btn-admin-footer');
            if (!adminButton) return;

            // Verificar si hay token de admin almacenado
            const hasAdminToken = localStorage.getItem('admin_token') || sessionStorage.getItem('admin_token');
            
            if (hasAdminToken) {
                // Mostrar estado "logueado"
                adminButton.classList.add('logged-in');
                adminButton.title = 'Panel de Administración (Sesión activa)';
                
                // Cambiar el texto si existe
                const buttonText = adminButton.querySelector('span');
                if (buttonText) {
                    buttonText.textContent = 'Panel Activo';
                }
                
                // Cambiar destino a dashboard en lugar de login
                adminButton.href = '../admin/dashboard.html';
            } else {
                // Estado normal - ir a login
                adminButton.classList.remove('logged-in');
                adminButton.title = 'Panel de Administración';
                adminButton.href = '../admin/login.html';
                
                const buttonText = adminButton.querySelector('span');
                if (buttonText) {
                    buttonText.textContent = 'Administración';
                }
            }
        }

        // Tracking para el botón MercadoLibre
        document.querySelector('.btn-mercadolibre')?.addEventListener('click', function() {
            // Google Analytics tracking
            if (typeof gtag !== 'undefined') {
                gtag('event', 'click', {
                    event_category: 'External Link',
                    event_label: 'MercadoLibre',
                    transport_type: 'beacon'
                });
            }
            
            console.log('🛒 Redirect to MercadoLibre');
        });
    </script>

    <!-- Scripts -->
    <script src="../scripts/main.js"></script>
    <script src="../scripts/unidadesDisponibles.js"></script>
    <script src="../scripts/nav-session.js"></script>
</body>
</html>